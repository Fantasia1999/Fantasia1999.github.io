<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="https://cdn.jsdelivr.net/gh/Fantasia1999/Fantasia1999.github.io/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="https://cdn.jsdelivr.net/gh/Fantasia1999/Fantasia1999.github.io/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="https://cdn.jsdelivr.net/gh/Fantasia1999/Fantasia1999.github.io/favicon.ico">
  <link rel="mask-icon" href="https://cdn.jsdelivr.net/gh/Fantasia1999/Fantasia1999.github.io/favicon.ico" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=LatoEB Garamond:300,300italic,400,400italic,700,700italic|JetBrains Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://blog.zhuomu.xyz').hostname,
    root: '/',
    scheme: 'Gemini',
    version: '7.7.0',
    exturl: false,
    sidebar: {"position":"left","display":"always","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":"flat"},
    back2top: {"enable":true,"sidebar":true,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"buttons","active":null,"storage":true,"lazyload":true,"nav":{"disqus":{"text":"Load Disqus","order":-1}}},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":false,"async":true,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="尚硅谷MySQL学习笔记3. SQL分类 DDL（Data Definition Languages)：数据定义语言，这些语句定义了不同的数据段、数据库、表、列、索引等数据库对象。  主要的语句关键字包括CREATE、DROP、ALTER等。   DML（Data Manipulation Language）：数据操作语言，用于添加、删除、更新和查询数据库记录，并检查数据完整性。  主要的语句关键">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL-Notes">
<meta property="og:url" content="https://blog.zhuomu.xyz/2021/03/04/mysql-notes/index.html">
<meta property="og:site_name" content="卓木&#39;s Blog">
<meta property="og:description" content="尚硅谷MySQL学习笔记3. SQL分类 DDL（Data Definition Languages)：数据定义语言，这些语句定义了不同的数据段、数据库、表、列、索引等数据库对象。  主要的语句关键字包括CREATE、DROP、ALTER等。   DML（Data Manipulation Language）：数据操作语言，用于添加、删除、更新和查询数据库记录，并检查数据完整性。  主要的语句关键">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img.zhuomu.xyz/view/img/2022/02/18/image-20220218-fcc65b4.png">
<meta property="og:image" content="https://img.zhuomu.xyz/view/img/2022/02/18/image-20220218-ada81df.png">
<meta property="og:image" content="https://img.zhuomu.xyz/view/img/2022/02/18/image-20220218-26278c7.png">
<meta property="og:image" content="https://img.zhuomu.xyz/view/img/2022/02/18/image-20220218-eb3951d.png">
<meta property="og:image" content="https://img.zhuomu.xyz/view/img/2022/02/18/image-20220218-aac8bda.png">
<meta property="og:image" content="https://img.zhuomu.xyz/view/img/2022/02/18/image-20220218-bfa559c.png">
<meta property="og:image" content="https://img.zhuomu.xyz/view/img/2022/02/18/image-20220218-0990c5f.png">
<meta property="og:image" content="https://img.zhuomu.xyz/view/img/2022/02/18/image-20220218-50cc942.png">
<meta property="og:image" content="https://img.zhuomu.xyz/view/img/2022/02/18/image-20220218-2ad893d.png">
<meta property="og:image" content="https://img.zhuomu.xyz/view/img/2022/02/18/image-20220218-3b9a6ab.png">
<meta property="og:image" content="https://img.zhuomu.xyz/view/img/2022/02/17/image-20220217-2e0bdb1.png">
<meta property="og:image" content="https://img.zhuomu.xyz/view/img/2022/02/17/image-20220217-b2c5c9c.png">
<meta property="og:image" content="https://img.zhuomu.xyz/view/img/2022/02/17/image-20220217-18651d1.png">
<meta property="og:image" content="https://img.zhuomu.xyz/view/img/2022/02/17/image-20220217-ffc9702.png">
<meta property="og:image" content="https://img.zhuomu.xyz/view/img/2022/02/17/image-20220217-d915af9.png">
<meta property="og:image" content="https://img.zhuomu.xyz/view/img/2022/02/17/image-20220217-3e16070.png">
<meta property="article:published_time" content="2021-03-04T14:19:00.000Z">
<meta property="article:modified_time" content="2021-03-11T13:45:00.000Z">
<meta property="article:author" content="卓木">
<meta property="article:tag" content="MySQL">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img.zhuomu.xyz/view/img/2022/02/18/image-20220218-fcc65b4.png">

<link rel="canonical" href="https://blog.zhuomu.xyz/2021/03/04/mysql-notes/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;500;700&display=swap" rel="stylesheet">
  <title>MySQL-Notes | 卓木's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/rss2.xml" title="卓木's Blog" type="application/rss+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">卓木's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-desktop"></i>Home</a>

  </li>
        <li class="menu-item menu-item-kindle">

    <a href="/Kindle" rel="section"><i class="fa fa-fw fa-book"></i>Kindle</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user-circle-o"></i>About</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.zhuomu.xyz/2021/03/04/mysql-notes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.jsdelivr.net/gh/Fantasia1999/Fantasia1999.github.io/medias/avatar.jpg">
      <meta itemprop="name" content="卓木">
      <meta itemprop="description" content="学习 分享 开源">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="卓木's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          MySQL-Notes
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-03-04 22:19:00" itemprop="dateCreated datePublished" datetime="2021-03-04T22:19:00+08:00">2021-03-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-03-11 21:45:00" itemprop="dateModified" datetime="2021-03-11T21:45:00+08:00">2021-03-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AC%94%E8%AE%B0%E6%9C%AC/" itemprop="url" rel="index">
                    <span itemprop="name">笔记本</span>
                  </a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2021/03/04/mysql-notes/#comments" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2021/03/04/mysql-notes/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="尚硅谷MySQL学习笔记"><a href="#尚硅谷MySQL学习笔记" class="headerlink" title="尚硅谷MySQL学习笔记"></a>尚硅谷MySQL学习笔记</h1><h3 id="3-SQL分类"><a href="#3-SQL分类" class="headerlink" title="3. SQL分类"></a>3. SQL分类</h3><ul>
<li><p><strong>DDL（Data Definition Languages)：数据定义语言</strong>，这些语句定义了不同的数据段、数据库、表、列、索引等数据库对象。</p>
<ul>
<li>主要的语句关键字包括<code>CREATE</code>、<code>DROP</code>、<code>ALTER</code>等。</li>
</ul>
</li>
<li><p><strong>DML（Data Manipulation Language）：数据操作语言</strong>，用于添加、删除、更新和查询数据库记录，并检查数据完整性。</p>
<ul>
<li>主要的语句关键字包括<code>INSERT</code>、<code>DELETE</code>、<code>UPDATE</code>、<code>SELECT</code>等。</li>
<li><strong>SELECT是SQL语言的基础，最为重要。</strong></li>
</ul>
</li>
<li><p><strong>DCL（Data Control Language）：数据控制语言</strong>，用于控制不同数据段直接的许可和访问级别的语句。这些语句定义了数据库、表、字段、用户的访问权限和安全级别。</p>
<ul>
<li>主要的语句关键字包括<code>GRANT</code>、<code>REVOKE</code>、<code>COMMIT</code>、<code>ROLLBACK</code>、<code>SAVEPOINT</code>等。</li>
</ul>
</li>
</ul>
<h2 id="第2章：数据处理之查询"><a href="#第2章：数据处理之查询" class="headerlink" title="第2章：数据处理之查询"></a>第2章：数据处理之查询</h2><h3 id="2-1-基本的SELECT语句"><a href="#2-1-基本的SELECT语句" class="headerlink" title="2.1 基本的SELECT语句"></a>2.1 基本的SELECT语句</h3><h4 id="2-1-2-列的别名"><a href="#2-1-2-列的别名" class="headerlink" title="2.1.2 列的别名"></a>2.1.2 列的别名</h4><ul>
<li>重命名一个列</li>
<li>便于计算</li>
<li>紧跟列名，也可以<strong>在列名和别名之间加入关键字AS，别名使用双引号</strong>，以便在别名中包含空格或特殊的字符并区分大小写。</li>
</ul>
<blockquote>
<p>使用双引号””</p>
</blockquote>
<p>使用别名</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> last_name <span class="keyword">AS</span> name, commission_pct comm</span><br><span class="line"><span class="keyword">FROM</span>   employees;</span><br></pre></td></tr></table></figure>

<p><img src="https://img.zhuomu.xyz/view/img/2022/02/18/image-20220218-fcc65b4.png"></p>
<p><img src="https://img.zhuomu.xyz/view/img/2022/02/18/image-20220218-ada81df.png"></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> last_name &quot;Name&quot;, salary<span class="operator">*</span><span class="number">12</span> &quot;Annual Salary&quot;</span><br><span class="line"><span class="keyword">FROM</span>   employees;</span><br></pre></td></tr></table></figure>

<p><img src="https://img.zhuomu.xyz/view/img/2022/02/18/image-20220218-26278c7.png"></p>
<p><img src="https://img.zhuomu.xyz/view/img/2022/02/18/image-20220218-eb3951d.png"></p>
<h4 id="2-1-3-去除重复行"><a href="#2-1-3-去除重复行" class="headerlink" title="2.1.3 去除重复行"></a>2.1.3 去除重复行</h4><p>默认情况下，查询会返回全部行，包括重复行。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> department_id</span><br><span class="line"><span class="keyword">FROM</span>   employees;</span><br></pre></td></tr></table></figure>

<p><strong>在SELECT语句中使用关键字DISTINCT去除重复行。</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> department_id</span><br><span class="line"><span class="keyword">FROM</span>   employees;</span><br></pre></td></tr></table></figure>

<h4 id="2-1-4-空值参与运算"><a href="#2-1-4-空值参与运算" class="headerlink" title="2.1.4 空值参与运算"></a>2.1.4 空值参与运算</h4><ul>
<li>所有运算符或列值遇到null值，运算的结果都为null</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> employee_id,salary,commission_pct,</span><br><span class="line"><span class="number">12</span> <span class="operator">*</span> salary <span class="operator">*</span> (<span class="number">1</span> <span class="operator">+</span> commission_pct) &quot;annual_sal&quot;</span><br><span class="line"><span class="keyword">FROM</span> employees;</span><br></pre></td></tr></table></figure>

<h4 id="2-1-5-显示表结构"><a href="#2-1-5-显示表结构" class="headerlink" title="2.1.5 显示表结构"></a>2.1.5 显示表结构</h4><p>使用DESCRIBE 或 DESC 命令，表示表结构。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DESCRIBE</span> employees;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-过滤数据"><a href="#2-2-过滤数据" class="headerlink" title="2.2 过滤数据"></a>2.2 过滤数据</h3><h4 id="2-2-1-SELECT-…-FROM-…-WHERE"><a href="#2-2-1-SELECT-…-FROM-…-WHERE" class="headerlink" title="2.2.1 SELECT … FROM … WHERE"></a>2.2.1 SELECT … FROM … WHERE</h4><p>背景：</p>
<p><img src="https://img.zhuomu.xyz/view/img/2022/02/18/image-20220218-aac8bda.png"></p>
<ul>
<li>使用WHERE 子句，将不满足条件的行过滤掉</li>
<li><strong>WHERE子句紧随 FROM子句</strong></li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> employee_id, last_name, job_id, department_id</span><br><span class="line"><span class="keyword">FROM</span>   employees</span><br><span class="line"><span class="keyword">WHERE</span>  department_id <span class="operator">=</span> <span class="number">90</span> ;</span><br></pre></td></tr></table></figure>

<p><img src="https://img.zhuomu.xyz/view/img/2022/02/18/image-20220218-bfa559c.png"></p>
<blockquote>
<p>在查询中使用字符串、日期型变量时，需要使用一对’’表示</p>
</blockquote>
<h4 id="如何判断列的类型"><a href="#如何判断列的类型" class="headerlink" title="如何判断列的类型"></a>如何判断列的类型</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DESC</span> employees;</span><br></pre></td></tr></table></figure>

<p>使用一对’’表示的字符串本身，在SQL标准中是区分大小写的，在MySQL中不区分</p>
<h4 id="2-2-2-比较运算符"><a href="#2-2-2-比较运算符" class="headerlink" title="2.2.2 比较运算符"></a>2.2.2 比较运算符</h4><h5 id="①-基本操作符"><a href="#①-基本操作符" class="headerlink" title="① 基本操作符"></a>① 基本操作符</h5><table>
<thead>
<tr>
<th>操作符</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>&#x3D;</td>
<td>等于(不是&#x3D;&#x3D;)</td>
</tr>
<tr>
<td>&gt;</td>
<td>大于</td>
</tr>
<tr>
<td>&gt;&#x3D;</td>
<td>大于、等于</td>
</tr>
<tr>
<td>&lt;</td>
<td>小于</td>
</tr>
<tr>
<td>&lt;&#x3D;</td>
<td>小于、等于</td>
</tr>
<tr>
<td>&lt;&gt;  或 !&#x3D;</td>
<td>不等于</td>
</tr>
</tbody></table>
<blockquote>
<p>说明：赋值符号使用 :&#x3D;</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> last_name, salary</span><br><span class="line"><span class="keyword">FROM</span>   employees</span><br><span class="line"><span class="keyword">WHERE</span>  salary <span class="operator">&lt;=</span> <span class="number">3000</span>;</span><br></pre></td></tr></table></figure>

<p><img src="https://img.zhuomu.xyz/view/img/2022/02/18/image-20220218-0990c5f.png"></p>
<h5 id="②-其它比较运算符"><a href="#②-其它比较运算符" class="headerlink" title="② 其它比较运算符"></a>② 其它比较运算符</h5><table>
<thead>
<tr>
<th>操作符</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>BETWEEN … AND</td>
<td>在两个值之间(包含边界)，闭区间</td>
</tr>
<tr>
<td>IN(set)</td>
<td>等于值列表中的一个</td>
</tr>
<tr>
<td>LIKE</td>
<td>模糊查询</td>
</tr>
<tr>
<td>IS NULL</td>
<td>空值</td>
</tr>
</tbody></table>
<p><strong>1）BETWEEN … AND</strong></p>
<p>使用 BETWEEN 运算来显示在一个区间内的值</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> last_name, salary</span><br><span class="line"><span class="keyword">FROM</span>   employees</span><br><span class="line"><span class="keyword">WHERE</span>  salary <span class="keyword">BETWEEN</span> <span class="number">2500</span> <span class="keyword">AND</span> <span class="number">3500</span>;</span><br></pre></td></tr></table></figure>

<p><strong>2）IN</strong></p>
<p>使用 IN运算显示列表中的值。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> employee_id, last_name, salary, manager_id</span><br><span class="line"><span class="keyword">FROM</span>   employees</span><br><span class="line"><span class="keyword">WHERE</span>  manager_id <span class="keyword">IN</span> (<span class="number">100</span>, <span class="number">101</span>, <span class="number">201</span>);</span><br></pre></td></tr></table></figure>

<p><strong>3）LIKE</strong></p>
<ul>
<li><p>使用 LIKE 运算选择类似的值</p>
</li>
<li><p>选择条件可以包含字符或数字:</p>
<ul>
<li><strong>%</strong> **代表零个或多个字符(任意个字符)**。</li>
<li><strong>_</strong> <strong>代表一个字符</strong>。</li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span>	first_name</span><br><span class="line"><span class="keyword">FROM</span> 	employees</span><br><span class="line"><span class="keyword">WHERE</span>	first_name <span class="keyword">LIKE</span> <span class="string">&#x27;S%&#x27;</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>‘%’和‘_’可以同时使用。</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> last_name</span><br><span class="line"><span class="keyword">FROM</span>   employees</span><br><span class="line"><span class="keyword">WHERE</span>  last_name <span class="keyword">LIKE</span> <span class="string">&#x27;_o%&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><strong>ESCAPE</strong></p>
<ul>
<li>回避特殊符号的：<strong>使用转义符</strong>。例如：将[%]转为[$%]、[]转为[$]，然后再加上[ESCAPE‘$’]即可。</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> job_id</span><br><span class="line"><span class="keyword">FROM</span>   jobs</span><br><span class="line"><span class="keyword">WHERE</span>  job_id <span class="keyword">LIKE</span> ‘IT\_<span class="operator">%</span>‘;</span><br></pre></td></tr></table></figure>

<p>如果使用\表示转义，要省略ESCAPE。如果不是\，则要加上ESCAPE。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> job_id</span><br><span class="line"><span class="keyword">FROM</span>   jobs</span><br><span class="line"><span class="keyword">WHERE</span>  job_id <span class="keyword">LIKE</span> ‘IT$_<span class="operator">%</span>‘ <span class="keyword">escape</span> ‘$‘;</span><br></pre></td></tr></table></figure>

<p><strong>4）NULL</strong></p>
<p>使用 IS (NOT) NULL 判断空值。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> last_name, manager_id</span><br><span class="line"><span class="keyword">FROM</span>   employees</span><br><span class="line"><span class="keyword">WHERE</span>  manager_id <span class="keyword">IS</span> <span class="keyword">NULL</span>;</span><br><span class="line"><span class="comment">-- WHERE  manager_id IS NOT NOT;</span></span><br></pre></td></tr></table></figure>

<h4 id="2-2-3-逻辑运算符"><a href="#2-2-3-逻辑运算符" class="headerlink" title="2.2.3 逻辑运算符"></a>2.2.3 逻辑运算符</h4><table>
<thead>
<tr>
<th>操作符</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>&amp;&amp; （或AND）</td>
<td>逻辑且</td>
</tr>
<tr>
<td>||（或OR）</td>
<td>逻辑或</td>
</tr>
<tr>
<td>NOT</td>
<td>逻辑否</td>
</tr>
<tr>
<td>XOR</td>
<td>逻辑异或</td>
</tr>
</tbody></table>
<p><strong>1）&amp;&amp; （或AND）</strong></p>
<p><strong>AND要求并的关系为真。</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> employee_id, last_name, job_id, salary</span><br><span class="line"><span class="keyword">FROM</span>   employees</span><br><span class="line"><span class="keyword">WHERE</span>  salary <span class="operator">&gt;=</span><span class="number">10000</span></span><br><span class="line"><span class="keyword">AND</span>    job_id <span class="keyword">LIKE</span> <span class="string">&#x27;%MAN%&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><strong>2）||（或OR）</strong></p>
<p><strong>OR要求或关系为真。</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> employee_id, last_name, job_id, salary</span><br><span class="line"><span class="keyword">FROM</span>   employees</span><br><span class="line"><span class="keyword">WHERE</span>  salary <span class="operator">&gt;=</span> <span class="number">10000</span></span><br><span class="line"><span class="keyword">OR</span>     job_id <span class="keyword">LIKE</span> <span class="string">&#x27;%MAN%&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><strong>3）NOT</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> last_name, job_id</span><br><span class="line"><span class="keyword">FROM</span>   employees</span><br><span class="line"><span class="keyword">WHERE</span>  job_id <span class="keyword">NOT</span> <span class="keyword">IN</span> (<span class="string">&#x27;IT_PROG&#x27;</span>, <span class="string">&#x27;ST_CLERK&#x27;</span>, <span class="string">&#x27;SA_REP&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><strong>4）XOR</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> last_name,department_id,salary </span><br><span class="line"><span class="keyword">from</span> employees</span><br><span class="line"><span class="keyword">where</span> department_id <span class="keyword">in</span> (<span class="number">10</span>,<span class="number">20</span>) XOR salary <span class="operator">&gt;</span> <span class="number">8000</span>;</span><br></pre></td></tr></table></figure>

<h4 id="2-2-4-算术运算符"><a href="#2-2-4-算术运算符" class="headerlink" title="2.2.4 算术运算符"></a>2.2.4 算术运算符</h4><table>
<thead>
<tr>
<th>运算符</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>+</td>
<td>加法</td>
</tr>
<tr>
<td>-</td>
<td>减法</td>
</tr>
<tr>
<td>*</td>
<td>乘法</td>
</tr>
<tr>
<td>&#x2F; （或div）</td>
<td>除法</td>
</tr>
<tr>
<td>%（或mod）</td>
<td>取模</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> employee_id,salary,department_id</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> department_id MOD <span class="number">2</span> <span class="operator">=</span> <span class="number">0</span>;</span><br></pre></td></tr></table></figure>

<h3 id="2-3-排序数据和分页"><a href="#2-3-排序数据和分页" class="headerlink" title="2.3  排序数据和分页"></a>2.3  排序数据和分页</h3><h4 id="2-3-2-分页"><a href="#2-3-2-分页" class="headerlink" title="2.3.2 分页"></a>2.3.2 分页</h4><ul>
<li><p><strong>MySQL中使用limit实现分页</strong></p>
</li>
<li><p>背景：查询返回的记录太多了，查看起来很不方便，怎么样能够实现分页查询呢？</p>
</li>
<li><p>分页原理</p>
<p>所谓分页显示，就是将数据库中的结果集，一段一段显示出来需要的条件。</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">--前10条记录：</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">table</span> LIMIT <span class="number">0</span>,<span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--第11至20条记录：</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">table</span> LIMIT <span class="number">10</span>,<span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--第21至30条记录： </span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">table</span> LIMIT <span class="number">20</span>,<span class="number">10</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>公式<strong>：（当前页数-1）*每页条数，每页条数</strong></li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">table</span> </span><br><span class="line">LIMIT(PageNo <span class="operator">-</span> <span class="number">1</span>)<span class="operator">*</span>PageSize,PageSize;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>注意：limit子句必须放在整个查询语句的最后！</strong></li>
</ul>
<h2 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h2><ul>
<li>别名使用””</li>
</ul>
<h3 id="5-选择工资不在5000到12000的员工的姓名和工资"><a href="#5-选择工资不在5000到12000的员工的姓名和工资" class="headerlink" title="5.选择工资不在5000到12000的员工的姓名和工资"></a>5.选择工资不在5000到12000的员工的姓名和工资</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> first_name, last_name, salary</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> salary <span class="operator">&lt;</span> <span class="number">5000</span> <span class="keyword">OR</span> salary <span class="operator">&gt;</span> <span class="number">12000</span></span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> first_name, last_name, salary</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> salary <span class="keyword">NOT</span> <span class="keyword">BETWEEN</span> <span class="number">5000</span> <span class="keyword">AND</span> <span class="number">12000</span></span><br></pre></td></tr></table></figure>

<h3 id="6-选择在20或50号部门工作的员工姓名和部门号"><a href="#6-选择在20或50号部门工作的员工姓名和部门号" class="headerlink" title="6.选择在20或50号部门工作的员工姓名和部门号"></a>6.选择在20或50号部门工作的员工姓名和部门号</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> first_name, department_id</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> department_id <span class="operator">=</span> <span class="number">20</span> <span class="keyword">OR</span> department_id <span class="operator">=</span> <span class="number">50</span></span><br><span class="line"># <span class="keyword">WHERE</span> department_id <span class="keyword">IN</span>(<span class="number">20</span>, <span class="number">50</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> first_name, department_id</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> department_id <span class="keyword">IN</span>(<span class="number">20</span>, <span class="number">50</span>)</span><br></pre></td></tr></table></figure>

<h3 id="10-选择姓名中有字母a和e的员工姓名"><a href="#10-选择姓名中有字母a和e的员工姓名" class="headerlink" title="10.选择姓名中有字母a和e的员工姓名"></a>10.选择姓名中有字母a和e的员工姓名</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> first_name</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> first_name <span class="keyword">LIKE</span> <span class="string">&#x27;%a%&#x27;</span> <span class="keyword">OR</span> first_name <span class="keyword">LIKE</span> <span class="string">&#x27;%e%&#x27;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> last_name</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">&#x27;%a%e%&#x27;</span> <span class="keyword">OR</span> last_name <span class="keyword">LIKE</span> <span class="string">&#x27;%e%a%&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="2-4-多表查询"><a href="#2-4-多表查询" class="headerlink" title="2.4 多表查询"></a>2.4 多表查询</h3><h4 id="2-4-1-笛卡尔积错误"><a href="#2-4-1-笛卡尔积错误" class="headerlink" title="2.4.1 笛卡尔积错误"></a>2.4.1 笛卡尔积错误</h4><p>举例：</p>
<p><img src="https://img.zhuomu.xyz/view/img/2022/02/18/image-20220218-50cc942.png"></p>
<p>从多个表中获取数据：</p>
<p><img src="https://img.zhuomu.xyz/view/img/2022/02/18/image-20220218-2ad893d.png"></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> last_name, department_name</span><br><span class="line"><span class="keyword">from</span> employees, departments;</span><br></pre></td></tr></table></figure>

<p><img src="https://img.zhuomu.xyz/view/img/2022/02/18/image-20220218-3b9a6ab.png"></p>
<p><strong>演示笛卡尔积的错误情况：</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(employee_id) <span class="keyword">from</span> employees;</span><br><span class="line">输出<span class="number">107</span>行</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(department_id)<span class="keyword">from</span> departments;</span><br><span class="line">输出<span class="number">27</span>行</span><br><span class="line"><span class="keyword">select</span> <span class="number">107</span><span class="operator">*</span><span class="number">27</span> <span class="keyword">from</span> dual;</span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>笛卡尔积会在下面条件下产生</strong>：</p>
<ul>
<li>省略连接条件</li>
<li>连接条件无效</li>
<li>所有表中的所有行互相连接</li>
</ul>
</li>
<li><p>为了避免笛卡尔积， 可以<strong>在 WHERE 加入有效的连接条件。</strong></p>
</li>
</ul>
<h4 id="2-4-2-分类1：等值连接-vs-非等值连接"><a href="#2-4-2-分类1：等值连接-vs-非等值连接" class="headerlink" title="2.4.2 分类1：等值连接 vs 非等值连接"></a>2.4.2 分类1：等值连接 vs 非等值连接</h4><h5 id="①-等值连接"><a href="#①-等值连接" class="headerlink" title="① 等值连接"></a>① 等值连接</h5><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> employees.employee_id, employees.last_name, </span><br><span class="line">       employees.department_id, departments.department_id,</span><br><span class="line">       departments.location_id</span><br><span class="line"><span class="keyword">FROM</span>   employees, departments</span><br><span class="line"><span class="keyword">WHERE</span>  employees.department_id <span class="operator">=</span> departments.department_id;</span><br></pre></td></tr></table></figure>

<p><strong>区分重复的列名</strong></p>
<ul>
<li><p><strong>使用表名前缀在多个表中区分相同的列</strong>。</p>
</li>
<li><p>在不同表中具有相同列名的列可以用<strong>表的别名</strong>加以区分。</p>
</li>
</ul>
<p><strong>表的别名</strong></p>
<ul>
<li><p>使用别名可以简化查询。</p>
</li>
<li><p>使用表名前缀可以提高执行效率。</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> e.employee_id, e.last_name, e.department_id,</span><br><span class="line">       d.department_id, d.location_id</span><br><span class="line"><span class="keyword">FROM</span>   employees e , departments d</span><br><span class="line"><span class="keyword">WHERE</span>  e.department_id <span class="operator">=</span> d.department_id;</span><br></pre></td></tr></table></figure>

<p><strong>连接多个表</strong></p>
<p><strong>连接 n个表,至少需要n-1个连接条件。</strong><br>例如：连接三个表，至少需要两个连接条件。</p>
<p>练习：查询出公司员工的 last_name,department_name, city</p>
<h5 id="②-非等值连接"><a href="#②-非等值连接" class="headerlink" title="② 非等值连接"></a>② 非等值连接</h5><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> e.last_name, e.salary, j.grade_level</span><br><span class="line"><span class="keyword">FROM</span>   employees e, job_grades j</span><br><span class="line"><span class="keyword">WHERE</span>  e.salary <span class="keyword">BETWEEN</span> j.lowest_sal <span class="keyword">AND</span> j.highest_sal;</span><br></pre></td></tr></table></figure>


<h2 id="MySQL安装及其他操作"><a href="#MySQL安装及其他操作" class="headerlink" title="MySQL安装及其他操作"></a>MySQL安装及其他操作</h2><h3 id="MySQL的一些杂项配置"><a href="#MySQL的一些杂项配置" class="headerlink" title="MySQL的一些杂项配置"></a>MySQL的一些杂项配置</h3><h4 id="sql-mode"><a href="#sql-mode" class="headerlink" title="sql_mode"></a>sql_mode</h4><p>sql_mode定义了对Mysql中sql语句语法的校验规则！</p>
<p>sql_mode是个很容易被忽视的变量，如果设置为空值（非严格模式），在这种情况下是可以允许一些非法操作的，比如允许一些非法数据的插入。在生产环境必须将这个值设置为严格模式，所以开发、测试环境的数据库也必须要设置，这样在开发测试阶段就可以发现问题。</p>
<p><strong>sql_mode常用的值</strong></p>
<table>
<thead>
<tr>
<th>ONLY_FULL_GROUP_BY</th>
<th>对于GROUP BY聚合操作，如果在SELECT中的列，没有在GROUP BY中出现，那么这个SQL是不合法的，因为列不在GROUP BY从句中</th>
</tr>
</thead>
<tbody><tr>
<td>NO_AUTO_VALUE_ON_ZERO</td>
<td>该值影响自增长列的插入。默认设置下，插入0或NULL代表生成下一个自增长值。如果用户 希望插入的值为0，而该列又是自增长的，那么这个选项就有用了</td>
</tr>
<tr>
<td>STRICT_TRANS_TABLES</td>
<td>在该模式下，如果一个值不能插入到一个事务表中，则中断当前的操作，对非事务表不做限制</td>
</tr>
<tr>
<td>NO_ZERO_IN_DATE</td>
<td>在严格模式下，不允许日期和月份为零</td>
</tr>
<tr>
<td>NO_ZERO_DATE</td>
<td>设置该值，mysql数据库不允许插入零日期，插入零日期会抛出错误而不是警告</td>
</tr>
<tr>
<td>ERROR_FOR_DIVISION_BY_ZERO</td>
<td>在INSERT或UPDATE过程中，如果数据被零除，则产生错误而非警告。如 果未给出该模式，那么数据被零除时MySQL返回NULL</td>
</tr>
<tr>
<td>NO_AUTO_CREATE_USER</td>
<td>禁止GRANT创建密码为空的用户</td>
</tr>
<tr>
<td>NO_ENGINE_SUBSTITUTION</td>
<td>如果需要的存储引擎被禁用或未编译，那么抛出错误。不设置此值时，用默认的存储引擎替代，并抛出一个异常</td>
</tr>
<tr>
<td>PIPES_AS_CONCAT</td>
<td>将”||”视为字符串的连接操作符而非或运算符，这和Oracle数据库是一样的，也和字符串的拼接函数Concat相类似</td>
</tr>
<tr>
<td>ANSI_QUOTES</td>
<td>启用ANSI_QUOTES后，不能用双引号来引用字符串，因为它被解释为识别符</td>
</tr>
<tr>
<td>ORACLE</td>
<td>设置等同于PIPES_AS_CONCAT,  ANSI_QUOTES, IGNORE_SPACE, NO_KEY_OPTIONS, NO_TABLE_OPTIONS,  NO_FIELD_OPTIONS, NO_AUTO_CREATE_USER</td>
</tr>
</tbody></table>
<p>查看当前的sql_mode</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> @<span class="variable">@sql</span>_mode;</span><br></pre></td></tr></table></figure>

<p>临时修改 sql_mode</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">set</span> @<span class="variable">@sql</span>_mode<span class="operator">=</span><span class="string">&#x27;&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>永久修改，需要在配置文件my.cnf中修改</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@hadoop102 ~]$ vim /etc/my.cnf</span><br><span class="line">#添加下列配置，然后重启mysql即可</span><br><span class="line">[mysqld]</span><br><span class="line">sql_mode=&#x27;&#x27;</span><br></pre></td></tr></table></figure>

<p>sql_mode的影响案例：group by 查询语法错误！</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> mytbl2 (id <span class="type">INT</span>,NAME <span class="type">VARCHAR</span>(<span class="number">200</span>),age <span class="type">INT</span>,dept <span class="type">INT</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> mytbl2 <span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">&#x27;zhang3&#x27;</span>,<span class="number">33</span>,<span class="number">101</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> mytbl2 <span class="keyword">VALUES</span>(<span class="number">2</span>,<span class="string">&#x27;li4&#x27;</span>,<span class="number">34</span>,<span class="number">101</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> mytbl2 <span class="keyword">VALUES</span>(<span class="number">3</span>,<span class="string">&#x27;wang5&#x27;</span>,<span class="number">34</span>,<span class="number">102</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> mytbl2 <span class="keyword">VALUES</span>(<span class="number">4</span>,<span class="string">&#x27;zhao6&#x27;</span>,<span class="number">34</span>,<span class="number">102</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> mytbl2 <span class="keyword">VALUES</span>(<span class="number">5</span>,<span class="string">&#x27;tian7&#x27;</span>,<span class="number">36</span>,<span class="number">102</span>);</span><br><span class="line"></span><br><span class="line"># 查询每个dept中年龄最大的人：</span><br><span class="line"># 错误结果：</span><br><span class="line"><span class="keyword">SELECT</span> NAME,dept,<span class="built_in">MAX</span>(age) <span class="keyword">FROM</span> mytbl2 <span class="keyword">GROUP</span> <span class="keyword">BY</span> dept;</span><br><span class="line"># 分组：<span class="keyword">group</span> <span class="keyword">by</span>以后，<span class="keyword">select</span>后面只能跟 组标识 及 聚合函数(组函数)</span><br><span class="line"># 正确结果：</span><br><span class="line"><span class="keyword">SELECT</span> id,name,ab.dept,ab.maxage <span class="keyword">FROM</span> mytbl2 m <span class="keyword">INNER</span> <span class="keyword">JOIN</span>(<span class="keyword">SELECT</span> dept,<span class="built_in">MAX</span>(age)maxage <span class="keyword">FROM</span> mytbl2 <span class="keyword">GROUP</span> <span class="keyword">BY</span> dept)ab <span class="keyword">ON</span> ab.dept<span class="operator">=</span>m.dept <span class="keyword">AND</span> m.age<span class="operator">=</span>ab.maxage;</span><br></pre></td></tr></table></figure>

<h3 id="MySQL的用户管理"><a href="#MySQL的用户管理" class="headerlink" title="MySQL的用户管理"></a>MySQL的用户管理</h3><p>MySQL的用户管理在 mysql库中的user表中</p>
<p>需要了解的列: Host,User, authentication_string等， 可通过 desc user 查看user表结构</p>
<p>相关命令</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>描述</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>create user zhang3 identified by ‘123123’;</td>
<td>创建名称为zhang3的用户，密码设为123123；</td>
<td></td>
</tr>
<tr>
<td>select host, user, password, select_priv, insert_priv, drop_priv from mysql.user;</td>
<td>查看用户和权限的相关信息</td>
<td></td>
</tr>
<tr>
<td>set password  &#x3D;password(‘123456’)</td>
<td>修改当前用户的密码</td>
<td></td>
</tr>
<tr>
<td>update  mysql.user set authentication_string&#x3D;password(‘123456’) where user&#x3D;’li4’;</td>
<td>修改其他用户的密码。<br>mysql 5.7 通过authentication_string表示密码列</td>
<td>所有通过user表的修改，必须用flush privileges;命令才能生效</td>
</tr>
<tr>
<td>update  mysql.user set user&#x3D;’li4’ where user&#x3D;’wang5’;</td>
<td>修改用户名</td>
<td>所有通过user表的修改，必须用flush privileges;命令才能生效</td>
</tr>
<tr>
<td>drop  user li4</td>
<td>删除用户</td>
<td>不要通过delete from user  u where user&#x3D;’li4’ 进行删除，系统会有残留信息保留。</td>
</tr>
</tbody></table>
<p>示例说明</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">use mysql;</span><br><span class="line"></span><br><span class="line">show tables;</span><br><span class="line"></span><br><span class="line">desc user;</span><br><span class="line"></span><br><span class="line">// xxx_priv 代表与权限相关</span><br><span class="line"></span><br><span class="line">authentication_string，是用户密码</span><br><span class="line"></span><br><span class="line">SELECT host, user, authentication_string</span><br><span class="line">FROM user;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>host：表示连接类型</p>
<ul>
<li>%：表示所有远程通过TCP方式的连接</li>
<li>IP地址：如192.168.1.2&#x2F;10.85.10.2通过指定ip地址进行的TCP方式的连接</li>
<li>机器名：通过指定网络中的机器名进行的TCP方式的连接</li>
<li>::1：IPV6的本地ip地址等同于IPV4的127.0.0.1</li>
<li>localhost：本地方式通过命令行方式的连接，比如<code>mysql -u root -p 123456</code>方式的连接</li>
</ul>
<p>user：表示用户名</p>
<ul>
<li>同一用户通过不同方式连接的权限是不一样的</li>
</ul>
<p>password：密码</p>
<ul>
<li>所有密码串通过password生成的密文字符串。</li>
<li>加密算法为MYSQLSHA1</li>
</ul>
<p>select_priv, insert_priv等：</p>
<ul>
<li>该用户所拥有的权限</li>
</ul>
<h3 id="MySQL的权限管理"><a href="#MySQL的权限管理" class="headerlink" title="MySQL的权限管理"></a>MySQL的权限管理</h3><h4 id="授予权限"><a href="#授予权限" class="headerlink" title="授予权限"></a>授予权限</h4><table>
<thead>
<tr>
<th>命令</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>grant 权限1,权限2,…权限n  on 数据库名称.表名称 to  用户名@用户地址 identified by ‘连接口令’</td>
<td>该权限如果发现没有该用户，则会直接新建一个用户。<br>示例：grant select,insert,delete,drop on atguigudb.* to li4@localhost ;<br>给li4用户用本地命令行方式下，授予atguigudb这个库下的所有表的插删改查的权限。</td>
</tr>
<tr>
<td>grant all privileges on *.* to joe@’%’ identified by ‘123’;</td>
<td>授予通过网络方式登录的的joe用户 ，对所有库所有表的全部权限，密码设为123.</td>
</tr>
</tbody></table>
<h4 id="收回权限"><a href="#收回权限" class="headerlink" title="收回权限"></a>收回权限</h4><table>
<thead>
<tr>
<th>命令</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>show grants</td>
<td>查看当前用户权限</td>
</tr>
<tr>
<td>revoke [权限1,权限2,…权限n] on 库名.表名 from 用户名@用户地址 ;</td>
<td>收回权限命令</td>
</tr>
<tr>
<td>REVOKE ALL PRIVILEGES ON mysql.* FROM joe@localhost;</td>
<td>收回全库全表的所有权限</td>
</tr>
<tr>
<td>REVOKE select,insert,update,delete ON mysql.* FROM joe@localhost;</td>
<td>收回mysql库下的所有表的插删改查权限</td>
</tr>
</tbody></table>
<p>提示：权限收回后，必须用户重新登录后，才能生效。</p>
<p>刷新权限</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> flush privilage;</span><br></pre></td></tr></table></figure>

<h3 id="查看SQL的执行周期"><a href="#查看SQL的执行周期" class="headerlink" title="查看SQL的执行周期"></a>查看SQL的执行周期</h3><p>查看profile是否开启</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">show</span> variables <span class="keyword">like</span> <span class="string">&#x27;%profiling%&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>开启profiling</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">set</span> profiling<span class="operator">=</span><span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<p>使用profile，可以查看最近几次查询</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">show</span> profiles;</span><br></pre></td></tr></table></figure>

<p>根据Query_ID，查看SQL的具体执行步骤</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">show</span> profile cpu, block io <span class="keyword">for</span> query <span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<p><img src="https://img.zhuomu.xyz/view/img/2022/02/17/image-20220217-2e0bdb1.png"></p>
<h4 id="大致查询流程"><a href="#大致查询流程" class="headerlink" title="大致查询流程"></a>大致查询流程</h4><p>mysql客户端通过协议与mysql服务器建连接，发送查询语句，</p>
<p>先检查查询缓存，如果命中，直接返回结果，否则进行语句解析,</p>
<p>也就是说，在解析查询之前，服务器会先访问查询缓存(query cache)——它存储SELECT语句以及相应的查询结果集。</p>
<p>如果某个查询结果已经位于缓存中，服务器就不会再对查询进行解析、优化、以及执行。它仅仅将缓存中的结果返回给用户即可，这将大大提高系统的性能。</p>
<p><strong>语法解析器和预处理</strong>：</p>
<p>首先mysql通过关键字将SQL语句进行解析，并生成一颗对应的“解析树”。mysql解析器将使用mysql语法规则验证和解析查询；</p>
<p>预处理器则根据一些mysql规则进一步检查解析数是否合法。</p>
<p>查询优化器当解析树被认为是合法的了，并且由优化器将其转化成Explian。一条查询可以有很多种执行方式，最后都返回相同的结果。优化器的作用就是找到这其中最好的Explian。</p>
<p>然后，mysql默认使用的BTREE索引，并且一个大致方向是:无论怎么折腾sql，至少在目前来说，mysql最多只用到表中的一个索引。</p>
<p>SQL的书写顺序</p>
<p><strong>SELECT- DISTINCT- FROM- JOIN ON- WHERE- GROUP BY- HIVING- ORDER BY- LIMIT</strong></p>
<p><img src="https://img.zhuomu.xyz/view/img/2022/02/17/image-20220217-b2c5c9c.png"></p>
<p>真正执行的顺序</p>
<p>随着Mysql版本的更新换代，其优化器也在不断的升级，优化器会分析不同执行顺序产生的性能消耗不同而动态调整执行顺序。下面是经常出现的查询顺序：</p>
<p><strong>FROM- ON- JOIN- WHERE- GROUP BY- HAVING- SELECT- DISTINCT- ORDER BY- LIMIT</strong></p>
<h3 id="查询缓存"><a href="#查询缓存" class="headerlink" title="查询缓存"></a>查询缓存</h3><h4 id="查看查询缓存相关的设置"><a href="#查看查询缓存相关的设置" class="headerlink" title="查看查询缓存相关的设置"></a>查看查询缓存相关的设置</h4><p>查看缓存相关的设置</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; show variables like &quot;%query_cache%&quot;;</span><br></pre></td></tr></table></figure>

<p>相关参数解释</p>
<ul>
<li>query_cache_limit：超过此大小的查询将不再缓存</li>
<li>query_cache_min_res_unit：缓存块的最小值</li>
<li>query_cache_size：缓存大小值</li>
<li>query_cache_type：缓存类型，决定缓存什么样的查询<ul>
<li>0，表示关闭查询数据库</li>
<li>1，表示开启查询缓存ON</li>
<li>2，表示SQL语句中有SQL_CACHE关键词时才缓存<ul>
<li>select SQL_CACHE name from t_user where id &#x3D; 1001;</li>
</ul>
</li>
</ul>
</li>
<li>query_cache_wlock_invalidate：表示当有其它客户端正在对MyISAM表进行写操作时，读请求是要等write lock释放资源后再查询还是允许直接从query cache中读取结果</li>
</ul>
<h4 id="开启MySQL的查询缓存"><a href="#开启MySQL的查询缓存" class="headerlink" title="开启MySQL的查询缓存"></a>开启MySQL的查询缓存</h4><ul>
<li><p>在MySQL的配置文件中 &#x2F;etc&#x2F;my.cnf中[mysqld] 节点下添加如下配置：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line">query_cache_type = 1</span><br></pre></td></tr></table></figure>
</li>
<li><p>重启MySQL服务</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">systemctl restart mysqld.service</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="使用查询缓存"><a href="#使用查询缓存" class="headerlink" title="使用查询缓存"></a>使用查询缓存</h4><ul>
<li><p>开启profiling</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; set profiling =1 ;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在MySQL中执行两条相同的SQL</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; select * from mytbl2;</span><br><span class="line">mysql&gt; select * from mytbl2;</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看最近执行的SQL</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; show profiles;</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看两条相同SQL的执行周期</p>
<ul>
<li><p>查看第一次执行的SQL</p>
<p><img src="https://img.zhuomu.xyz/view/img/2022/02/17/image-20220217-18651d1.png"></p>
</li>
<li><p>查看第二次执行的SQL</p>
<p><img src="https://img.zhuomu.xyz/view/img/2022/02/17/image-20220217-ffc9702.png"></p>
</li>
<li><p>可以看出第二次执行的SQL结果是从缓存中查询</p>
</li>
</ul>
</li>
</ul>
<h4 id="查询不使用缓存"><a href="#查询不使用缓存" class="headerlink" title="查询不使用缓存"></a>查询不使用缓存</h4><p>如果在开启了查询缓存的情况, 某条SQL执行时不想使用缓存，可在SQL中显示执行SQL_NO_CACHE</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; select SQL_NO_CACHE  * from mytbl2;</span><br></pre></td></tr></table></figure>

<h2 id="SQL预热"><a href="#SQL预热" class="headerlink" title="SQL预热"></a>SQL预热</h2><h3 id="常见Join查询图"><a href="#常见Join查询图" class="headerlink" title="常见Join查询图"></a>常见Join查询图</h3><img src="https://img.zhuomu.xyz/view/img/2022/02/17/image-20220217-d915af9.png" alt="image-20210308141925417" style="zoom:100%;" />

<h2 id="MySQL的索引结构"><a href="#MySQL的索引结构" class="headerlink" title="MySQL的索引结构"></a>MySQL的索引结构</h2><h3 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h3><h4 id="索引的优劣势"><a href="#索引的优劣势" class="headerlink" title="索引的优劣势"></a><strong>索引的优劣势</strong></h4><ul>
<li><p>优点</p>
<ul>
<li>提高数据检索的效率，降低数据库的IO成本。</li>
<li>通过索引列对数据进行排序，降低数据排序的成本，降低了CPU的消耗。</li>
</ul>
</li>
<li><p>劣势</p>
<ul>
<li>虽然索引大大提高了查询速度，同时却会降低更新表的速度，如对表进行INSERT、UPDATE和DELETE。因为更新表时，MySQL不仅要保存数据，还要保存一下索引文件每次更新添加了索引列的字段，都会调整因为更新所带来的键值变化后的索引信息。</li>
</ul>
</li>
</ul>
<p> 实际上索引也是一张表，该表保存了主键与索引字段，并指向实体表的记录，所以索引列也是要占用空间的。</p>
<h4 id="B-Tree与B-Tree-的区别"><a href="#B-Tree与B-Tree-的区别" class="headerlink" title="B-Tree与B+Tree 的区别"></a>B-Tree与B+Tree 的区别</h4><ul>
<li>B-树的关键字和记录是放在一起的， B+树的非叶子节点中只有关键字和指向下一个节点的索引，记录只放在叶子节点中。</li>
<li>在B-树中，越靠近根节点的记录查找时间越快，只要找到关键字即可确定记录的存在；而B+树中每个记录的查找时间基本是一样的，都需要从根节点走到叶子节点，而且在叶子节点中还要再比较关键字。从这个角度看B-树的性能好像要比B+树好，而在实际应用中却是B+树的性能要好些。因为B+树的非叶子节点不存放实际的数据，这样每个节点可容纳的元素个数比B-树多，树高比B-树小，这样带来的好处是减少磁盘访问次数。尽管B+树找到一个记录所需的比较次数要比B-树多，但是一次磁盘访问的时间相当于成百上千次内存比较的时间，因此实际中B+树的性能可能还会好些，而且B+树的叶子节点使用指针连接在一起，方便顺序遍历（例如查看一个目录下的所有文件，一个表中的所有记录等），这也是很多数据库和文件系统使用B+树的缘故。</li>
</ul>
<h4 id="为什么说B-树比B-树更适合实际应用中操作系统的文件索引和数据库索引？"><a href="#为什么说B-树比B-树更适合实际应用中操作系统的文件索引和数据库索引？" class="headerlink" title="为什么说B+树比B-树更适合实际应用中操作系统的文件索引和数据库索引？"></a>为什么说B+树比B-树更适合实际应用中操作系统的文件索引和数据库索引？</h4><ul>
<li>B+树的磁盘读写代价更低<ul>
<li>B+树的内部结点并没有指向关键字具体信息的指针。因此其内部结点相对B 树更小。如果把所有同一内部结点的关键字存放在同一盘块中，那么盘块所能容纳的关键字数量也越多。一次性读入内存中的需要查找的关键字也就越多。相对来说IO读写次数也就降低了。</li>
</ul>
</li>
<li>B+树的查询效率更加稳定<ul>
<li>由于非终结点并不是最终指向文件内容的结点，而只是叶子结点中关键字的索引。所以任何关键字的查找必须走一条从根结点到叶子结点的路。所有关键字查询的路径长度相同，导致每一个数据的查询效率相当。</li>
</ul>
</li>
</ul>
<h3 id="聚簇索引和非聚簇索引"><a href="#聚簇索引和非聚簇索引" class="headerlink" title="聚簇索引和非聚簇索引"></a>聚簇索引和非聚簇索引</h3><p><img src="https://img.zhuomu.xyz/view/img/2022/02/17/image-20220217-3e16070.png"></p>
<h4 id="聚簇索引的好处"><a href="#聚簇索引的好处" class="headerlink" title="聚簇索引的好处"></a>聚簇索引的好处</h4><p>按照聚簇索引排列顺序，查询显示一定范围数据的时候，由于数据都是紧密相连，数据库不用从多个数据块中提取数据，所以节省了大量的io操作。</p>
<h4 id="聚簇索引的限制"><a href="#聚簇索引的限制" class="headerlink" title="聚簇索引的限制"></a>聚簇索引的限制</h4><p>对于mysql数据库目前只有innodb数据引擎支持聚簇索引，而Myisam并不支持聚簇索引。</p>
<p>由于数据物理存储排序方式只能有一种，所以每个Mysql的表只能有一个聚簇索引。一般情况下就是该表的主键。</p>
<p>为了充分利用聚簇索引的聚簇的特性，所以innodb表的主键列尽量选用有序的顺序id，而不建议用无序的id，比如uuid这种。</p>
<h3 id="索引分类"><a href="#索引分类" class="headerlink" title="索引分类"></a>索引分类</h3><h3 id="单值索引INDEX"><a href="#单值索引INDEX" class="headerlink" title="单值索引INDEX"></a>单值索引INDEX</h3>
    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/mysql/" rel="tag"># MySQL</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/01/23/ubuntu-cst-utc-8/" rel="prev" title="更改Ubuntu的时间为北京时间（东八区）">
      <i class="fa fa-chevron-left"></i> 更改Ubuntu的时间为北京时间（东八区）
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/03/05/move-OLAINDEX-to-PicGo/" rel="next" title="记一次博客图床迁移">
      记一次博客图床迁移 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          
    
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%B0%9A%E7%A1%85%E8%B0%B7MySQL%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0"><span class="nav-number">1.</span> <span class="nav-text">尚硅谷MySQL学习笔记</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-SQL%E5%88%86%E7%B1%BB"><span class="nav-number">1.0.1.</span> <span class="nav-text">3. SQL分类</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC2%E7%AB%A0%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E4%B9%8B%E6%9F%A5%E8%AF%A2"><span class="nav-number">1.1.</span> <span class="nav-text">第2章：数据处理之查询</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-%E5%9F%BA%E6%9C%AC%E7%9A%84SELECT%E8%AF%AD%E5%8F%A5"><span class="nav-number">1.1.1.</span> <span class="nav-text">2.1 基本的SELECT语句</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-2-%E5%88%97%E7%9A%84%E5%88%AB%E5%90%8D"><span class="nav-number">1.1.1.1.</span> <span class="nav-text">2.1.2 列的别名</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-3-%E5%8E%BB%E9%99%A4%E9%87%8D%E5%A4%8D%E8%A1%8C"><span class="nav-number">1.1.1.2.</span> <span class="nav-text">2.1.3 去除重复行</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-4-%E7%A9%BA%E5%80%BC%E5%8F%82%E4%B8%8E%E8%BF%90%E7%AE%97"><span class="nav-number">1.1.1.3.</span> <span class="nav-text">2.1.4 空值参与运算</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-5-%E6%98%BE%E7%A4%BA%E8%A1%A8%E7%BB%93%E6%9E%84"><span class="nav-number">1.1.1.4.</span> <span class="nav-text">2.1.5 显示表结构</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-%E8%BF%87%E6%BB%A4%E6%95%B0%E6%8D%AE"><span class="nav-number">1.1.2.</span> <span class="nav-text">2.2 过滤数据</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-1-SELECT-%E2%80%A6-FROM-%E2%80%A6-WHERE"><span class="nav-number">1.1.2.1.</span> <span class="nav-text">2.2.1 SELECT … FROM … WHERE</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E5%88%A4%E6%96%AD%E5%88%97%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="nav-number">1.1.2.2.</span> <span class="nav-text">如何判断列的类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-2-%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">1.1.2.3.</span> <span class="nav-text">2.2.2 比较运算符</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E2%91%A0-%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="nav-number">1.1.2.3.1.</span> <span class="nav-text">① 基本操作符</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E2%91%A1-%E5%85%B6%E5%AE%83%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">1.1.2.3.2.</span> <span class="nav-text">② 其它比较运算符</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-3-%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">1.1.2.4.</span> <span class="nav-text">2.2.3 逻辑运算符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-4-%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">1.1.2.5.</span> <span class="nav-text">2.2.4 算术运算符</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-%E6%8E%92%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%92%8C%E5%88%86%E9%A1%B5"><span class="nav-number">1.1.3.</span> <span class="nav-text">2.3  排序数据和分页</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-2-%E5%88%86%E9%A1%B5"><span class="nav-number">1.1.3.1.</span> <span class="nav-text">2.3.2 分页</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%83%E4%B9%A0"><span class="nav-number">1.2.</span> <span class="nav-text">练习</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E9%80%89%E6%8B%A9%E5%B7%A5%E8%B5%84%E4%B8%8D%E5%9C%A85000%E5%88%B012000%E7%9A%84%E5%91%98%E5%B7%A5%E7%9A%84%E5%A7%93%E5%90%8D%E5%92%8C%E5%B7%A5%E8%B5%84"><span class="nav-number">1.2.1.</span> <span class="nav-text">5.选择工资不在5000到12000的员工的姓名和工资</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E9%80%89%E6%8B%A9%E5%9C%A820%E6%88%9650%E5%8F%B7%E9%83%A8%E9%97%A8%E5%B7%A5%E4%BD%9C%E7%9A%84%E5%91%98%E5%B7%A5%E5%A7%93%E5%90%8D%E5%92%8C%E9%83%A8%E9%97%A8%E5%8F%B7"><span class="nav-number">1.2.2.</span> <span class="nav-text">6.选择在20或50号部门工作的员工姓名和部门号</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-%E9%80%89%E6%8B%A9%E5%A7%93%E5%90%8D%E4%B8%AD%E6%9C%89%E5%AD%97%E6%AF%8Da%E5%92%8Ce%E7%9A%84%E5%91%98%E5%B7%A5%E5%A7%93%E5%90%8D"><span class="nav-number">1.2.3.</span> <span class="nav-text">10.选择姓名中有字母a和e的员工姓名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="nav-number">1.2.4.</span> <span class="nav-text">2.4 多表查询</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-1-%E7%AC%9B%E5%8D%A1%E5%B0%94%E7%A7%AF%E9%94%99%E8%AF%AF"><span class="nav-number">1.2.4.1.</span> <span class="nav-text">2.4.1 笛卡尔积错误</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-2-%E5%88%86%E7%B1%BB1%EF%BC%9A%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5-vs-%E9%9D%9E%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5"><span class="nav-number">1.2.4.2.</span> <span class="nav-text">2.4.2 分类1：等值连接 vs 非等值连接</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E2%91%A0-%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5"><span class="nav-number">1.2.4.2.1.</span> <span class="nav-text">① 等值连接</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E2%91%A1-%E9%9D%9E%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5"><span class="nav-number">1.2.4.2.2.</span> <span class="nav-text">② 非等值连接</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MySQL%E5%AE%89%E8%A3%85%E5%8F%8A%E5%85%B6%E4%BB%96%E6%93%8D%E4%BD%9C"><span class="nav-number">1.3.</span> <span class="nav-text">MySQL安装及其他操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#MySQL%E7%9A%84%E4%B8%80%E4%BA%9B%E6%9D%82%E9%A1%B9%E9%85%8D%E7%BD%AE"><span class="nav-number">1.3.1.</span> <span class="nav-text">MySQL的一些杂项配置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#sql-mode"><span class="nav-number">1.3.1.1.</span> <span class="nav-text">sql_mode</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MySQL%E7%9A%84%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86"><span class="nav-number">1.3.2.</span> <span class="nav-text">MySQL的用户管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MySQL%E7%9A%84%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86"><span class="nav-number">1.3.3.</span> <span class="nav-text">MySQL的权限管理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8E%88%E4%BA%88%E6%9D%83%E9%99%90"><span class="nav-number">1.3.3.1.</span> <span class="nav-text">授予权限</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%94%B6%E5%9B%9E%E6%9D%83%E9%99%90"><span class="nav-number">1.3.3.2.</span> <span class="nav-text">收回权限</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8BSQL%E7%9A%84%E6%89%A7%E8%A1%8C%E5%91%A8%E6%9C%9F"><span class="nav-number">1.3.4.</span> <span class="nav-text">查看SQL的执行周期</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%A7%E8%87%B4%E6%9F%A5%E8%AF%A2%E6%B5%81%E7%A8%8B"><span class="nav-number">1.3.4.1.</span> <span class="nav-text">大致查询流程</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E8%AF%A2%E7%BC%93%E5%AD%98"><span class="nav-number">1.3.5.</span> <span class="nav-text">查询缓存</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E6%9F%A5%E8%AF%A2%E7%BC%93%E5%AD%98%E7%9B%B8%E5%85%B3%E7%9A%84%E8%AE%BE%E7%BD%AE"><span class="nav-number">1.3.5.1.</span> <span class="nav-text">查看查询缓存相关的设置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%80%E5%90%AFMySQL%E7%9A%84%E6%9F%A5%E8%AF%A2%E7%BC%93%E5%AD%98"><span class="nav-number">1.3.5.2.</span> <span class="nav-text">开启MySQL的查询缓存</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E6%9F%A5%E8%AF%A2%E7%BC%93%E5%AD%98"><span class="nav-number">1.3.5.3.</span> <span class="nav-text">使用查询缓存</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9F%A5%E8%AF%A2%E4%B8%8D%E4%BD%BF%E7%94%A8%E7%BC%93%E5%AD%98"><span class="nav-number">1.3.5.4.</span> <span class="nav-text">查询不使用缓存</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL%E9%A2%84%E7%83%AD"><span class="nav-number">1.4.</span> <span class="nav-text">SQL预热</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E8%A7%81Join%E6%9F%A5%E8%AF%A2%E5%9B%BE"><span class="nav-number">1.4.1.</span> <span class="nav-text">常见Join查询图</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MySQL%E7%9A%84%E7%B4%A2%E5%BC%95%E7%BB%93%E6%9E%84"><span class="nav-number">1.5.</span> <span class="nav-text">MySQL的索引结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95"><span class="nav-number">1.5.1.</span> <span class="nav-text">索引</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E7%9A%84%E4%BC%98%E5%8A%A3%E5%8A%BF"><span class="nav-number">1.5.1.1.</span> <span class="nav-text">索引的优劣势</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#B-Tree%E4%B8%8EB-Tree-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">1.5.1.2.</span> <span class="nav-text">B-Tree与B+Tree 的区别</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%AF%B4B-%E6%A0%91%E6%AF%94B-%E6%A0%91%E6%9B%B4%E9%80%82%E5%90%88%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8%E4%B8%AD%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%96%87%E4%BB%B6%E7%B4%A2%E5%BC%95%E5%92%8C%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B4%A2%E5%BC%95%EF%BC%9F"><span class="nav-number">1.5.1.3.</span> <span class="nav-text">为什么说B+树比B-树更适合实际应用中操作系统的文件索引和数据库索引？</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%81%9A%E7%B0%87%E7%B4%A2%E5%BC%95%E5%92%8C%E9%9D%9E%E8%81%9A%E7%B0%87%E7%B4%A2%E5%BC%95"><span class="nav-number">1.5.2.</span> <span class="nav-text">聚簇索引和非聚簇索引</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%81%9A%E7%B0%87%E7%B4%A2%E5%BC%95%E7%9A%84%E5%A5%BD%E5%A4%84"><span class="nav-number">1.5.2.1.</span> <span class="nav-text">聚簇索引的好处</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%81%9A%E7%B0%87%E7%B4%A2%E5%BC%95%E7%9A%84%E9%99%90%E5%88%B6"><span class="nav-number">1.5.2.2.</span> <span class="nav-text">聚簇索引的限制</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E5%88%86%E7%B1%BB"><span class="nav-number">1.5.3.</span> <span class="nav-text">索引分类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%95%E5%80%BC%E7%B4%A2%E5%BC%95INDEX"><span class="nav-number">1.5.4.</span> <span class="nav-text">单值索引INDEX</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="卓木"
      src="https://cdn.jsdelivr.net/gh/Fantasia1999/Fantasia1999.github.io/medias/avatar.jpg">
  <p class="site-author-name" itemprop="name">卓木</p>
  <div class="site-description" itemprop="description">学习 分享 开源</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">52</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">93</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Fantasia1999" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Fantasia1999" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:i@zhuomu.xyz" title="E-Mail → mailto:i@zhuomu.xyz" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="/Kindle" title="Kindle → &#x2F;Kindle"><i class="fa fa-fw fa-book"></i>Kindle</a>
      </span>
      <span class="links-of-author-item">
        <a href="/rss2.xml" title="RSS → &#x2F;rss2.xml"><i class="fa fa-fw fa-rss"></i>RSS</a>
      </span>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 2019 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">卓木</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>

<script src="/js/utils.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://blog-zhuomu.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  NexT.utils.loadComments(document.querySelector('#disqus_thread'), () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: {page: {
            url: "https://blog.zhuomu.xyz/2021/03/04/mysql-notes/",
            identifier: "2021/03/04/mysql-notes/",
            title: "MySQL-Notes"
          }
        }
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://blog-zhuomu.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

</body>
</html>
